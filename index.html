<!DOCTYPE html>
<html lang="hy">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‘¥’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’´ ÷É’°’©’•’©’´ ’°÷Ä’™’•÷Ñ’´ ’∞’°’∑’æ’´’π</title>
    <style>
    /* ===== RESET & BASE STYLES ===== */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
    }
    body {
        background-color: #f8f9fa;
        color: #333;
        line-height: 1.5;
        padding: 10px;
        min-height: 650px;
        font-family: Arial, sans-serif;
    }

    /* ===== CALCULATOR PAGE CONTAINER ===== */
    .course-calculator-page {
        position: relative;
        max-width: 900px;
        margin: 10px auto;
        padding: 12px 18px;
        background: white;
        border-radius: 16px;
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.08);
        font-family: Arial, sans-serif;
    }

    /* ===== CHRISTMAS DECORATIONS ===== */
    /* Holly & berry pattern along top */
    .course-calculator-page::before {
        content: "";
        position: absolute;
        top: -8px;
        left: 10px;
        right: 10px;
        height: 16px;
        background-image: 
            radial-gradient(circle at 50% 40%, #c41e3a 3px, transparent 4px),
            radial-gradient(circle at 50% 40%, #2e8b57 3px, transparent 4px);
        background-size: 24px 16px;
        background-repeat: repeat-x;
        background-position: 0 0, 12px 0;
        opacity: 0.85;
        pointer-events: none;
        z-index: 2;
    }

    /* Top-left ornament */
    .course-calculator-page::after {
        content: "üéÑ";
        position: absolute;
        top: -12px;
        left: -12px;
        font-size: 1.4rem;
        z-index: 3;
        opacity: 0.9;
        pointer-events: none;
    }

    /* Top-right ornament */
    .xmas-decor {
        position: absolute;
        top: -12px;
        right: -12px;
        font-size: 1.4rem;
        z-index: 3;
        opacity: 0.9;
        pointer-events: none;
    }

    /* ===== HEADER ===== */
    .calculator-header {
        text-align: center;
        margin-bottom: 20px;
    }
    .calculator-header h1 {
        font-size: 1.8rem;
        margin-bottom: 15px;
        color: #1a365d;
        background: linear-gradient(135deg, #1a365d 0%, #2d6bcc 100%);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        line-height: 1.2;
        font-family: Arial, sans-serif;
    }
    .calculator-header p {
        color: #666;
        font-size: 1rem;
        max-width: 750px;
        margin: 0 auto;
        line-height: 1.4;
        font-family: Arial, sans-serif;
    }

    /* ===== DROPDOWN SELECTOR ===== */
    .custom-select {
        position: relative;
        max-width: 100%;
        margin: 18px auto;
    }
    .select-header {
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        cursor: pointer;
        background: white;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 1rem;
        color: #4a5568;
        transition: all 0.25s ease;
        font-family: Arial, sans-serif;
    }
    .select-header:hover {
        border-color: #4299e1;
        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
    }
    .select-options {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border: 2px solid #e2e8f0;
        border-top: none;
        border-radius: 0 0 12px 12px;
        z-index: 1000;
        box-shadow: 0 16px 32px rgba(0, 0, 0, 0.1);
        max-height: 450px;
        overflow: hidden;
    }

    /* ===== CONFIRM BUTTON INSIDE DROPDOWN ===== */
    .confirm-button-container {
        padding: 10px;
        border-bottom: 2px solid #f7fafc;
        text-align: right;
        background: #f8fafc;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .selection-info {
        color: #4a5568;
        font-size: 0.9rem;
        font-weight: 500;
    }
    .confirm-selection-btn {
        padding: 8px 20px;
        background: #4299e1;
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.95rem;
        font-weight: 600;
        transition: all 0.3s;
        font-family: Arial, sans-serif;
        min-width: 160px;
    }
    .confirm-selection-btn:hover:not(:disabled) {
        background: #3182ce;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(49, 130, 206, 0.3);
    }
    .confirm-selection-btn:disabled {
        background: #cbd5e0;
        cursor: not-allowed;
    }
    .confirm-selection-btn.min-courses {
        background: #fc8181;
    }
    .confirm-selection-btn.min-courses:hover:not(:disabled) {
        background: #f56565;
    }

    /* ===== COURSE OPTIONS LIST ===== */
    .courses-list {
        max-height: 350px;
        overflow-y: auto;
    }
    .course-group {
        padding: 8px 0;
        border-bottom: 1px solid #e2e8f0;
    }
    .course-group-title {
        padding: 10px 16px;
        background: #f8fafc;
        font-weight: bold;
        color: #2d3748;
        font-size: 1rem;
        margin-bottom: 4px;
        border-left: 4px solid #4299e1;
    }
    .option-item {
        display: flex;
        align-items: center;
        padding: 12px 16px;
        cursor: pointer;
        border-bottom: 1px solid #f1f5f9;
        transition: background-color 0.2s;
        font-family: Arial, sans-serif;
    }
    .option-item:hover {
        background-color: #f7fafc;
    }
    .option-item input[type="checkbox"] {
        margin-right: 10px;
        width: 18px;
        height: 18px;
        accent-color: #4299e1;
        flex-shrink: 0;
    }
    .course-info {
        flex-grow: 1;
    }
    .course-name {
        font-weight: 600;
        color: #2d3748;
        margin-bottom: 3px;
        font-size: 1.05rem;
        font-family: Arial, sans-serif;
    }
    .course-price {
        color: #718096;
        font-size: 0.95rem;
        font-family: Arial, sans-serif;
    }
    .course-not-available {
        opacity: 0.6;
        cursor: not-allowed;
        position: relative;
    }
    .course-not-available::after {
        content: "‘¥’•’º ’∞’°’Ω’°’∂’•’¨’´ ’π’ß";
        position: absolute;
        right: 16px;
        top: 50%;
        transform: translateY(-50%);
        background: #a0aec0;
        color: white;
        padding: 3px 6px;
        border-radius: 4px;
        font-size: 0.75rem;
        font-weight: bold;
        white-space: nowrap;
    }
    .course-not-available input[type="checkbox"] {
        opacity: 0.5;
        cursor: not-allowed;
    }

    /* ===== SELECTED COURSES DISPLAY ===== */
    #selectedCoursesContainer {
        margin: 22px 0;
        display: none;
    }
    .selected-courses-title {
        text-align: center;
        margin-bottom: 16px;
        color: #2d3748;
        font-size: 1.2rem;
        font-family: Arial, sans-serif;
    }
    .selected-courses-wrapper {
        display: flex;
        flex-direction: column;
        gap: 6px;
        max-height: 300px;
        overflow-y: auto;
        padding: 10px;
        border-radius: 12px;
        background: #f8fafc;
        border: 1px solid #e2e8f0;
        scrollbar-width: thin;
        scrollbar-color: #4299e1 #e2e8f0;
    }
    .selected-courses-wrapper::-webkit-scrollbar {
        width: 6px;
    }
    .selected-courses-wrapper::-webkit-scrollbar-track {
        background: #e2e8f0;
        border-radius: 5px;
    }
    .selected-courses-wrapper::-webkit-scrollbar-thumb {
        background: #4299e1;
        border-radius: 5px;
        transition: background 0.3s;
    }
    .selected-courses-wrapper::-webkit-scrollbar-thumb:hover {
        background: #3182ce;
    }
    .selected-course-item {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 10px;
        padding: 8px 10px;
        background: linear-gradient(90deg, #f0f9ff, #ffffff);
        border-radius: 8px;
        border-left: 4px solid #4299e1;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.04);
        transition: all 0.2s;
        width: 100%;
        flex-shrink: 0;
        min-height: 45px;
    }
    .selected-course-item:hover {
        transform: translateY(-1px);
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.06);
    }
    .course-name-text {
        font-weight: 600;
        color: #2d3748;
        font-size: 0.9rem;
        line-height: 1.3;
        flex-grow: 1;
        max-width: 75%;
        word-wrap: break-word;
        overflow-wrap: break-word;
        white-space: normal;
        overflow: visible;
    }
    .remove-course-btn {
        background: #fc8181;
        color: white;
        border: none;
        border-radius: 6px;
        padding: 5px 10px;
        cursor: pointer;
        font-size: 0.8rem;
        font-weight: 500;
        transition: all 0.2s;
        white-space: nowrap;
        font-family: Arial, sans-serif;
        flex-shrink: 0;
        margin-top: 2px;
        align-self: flex-start;
    }
    .remove-course-btn:hover {
        background: #f56565;
        transform: scale(1.05);
    }

    /* ===== PROMO CODE SECTION ===== */
    .promo-section {
        max-width: 100%;
        margin: 22px auto;
        padding: 16px;
        background: #f8fafc;
        border-radius: 12px;
        border: 2px solid #e2e8f0;
    }
    .promo-title {
        text-align: center;
        margin-bottom: 16px;
        color: #2d3748;
        font-size: 1.2rem;
        font-family: Arial, sans-serif;
    }
    .promo-input-wrapper {
        display: flex;
        gap: 10px;
        align-items: center;
    }
    .promo-input {
        flex: 1;
        padding: 12px 16px;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s;
        text-align: center;
        color: #4a5568;
        font-family: Arial, sans-serif;
    }
    .promo-input:focus {
        outline: none;
        border-color: #4299e1;
        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
    }
    .promo-input::placeholder {
        color: #a0aec0;
    }
    .apply-promo-btn {
        padding: 12px 20px;
        background: #4299e1;
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        transition: all 0.3s;
        white-space: nowrap;
        font-family: Arial, sans-serif;
    }
    .apply-promo-btn:hover:not(:disabled) {
        background: #3182ce;
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(49, 130, 206, 0.3);
    }
    .apply-promo-btn:disabled {
        background: #cbd5e0;
        cursor: not-allowed;
    }
    #promoMessage {
        text-align: center;
        margin-top: 10px;
        min-height: 20px;
        font-size: 0.95rem;
        padding: 4px;
        font-family: Arial, sans-serif;
    }

    /* ===== RESULTS SECTION ===== */
    .results-container {
        background: linear-gradient(135deg, #e6fffa 0%, #f0fff4 100%);
        border-left: 6px solid #38b2ac;
        padding: 20px;
        border-radius: 14px;
        margin-top: 22px;
        text-align: center;
        font-family: Arial, sans-serif;
    }
    .total-amount {
        font-size: 1.8rem;
        font-weight: 800;
        color: #234e52;
        margin-bottom: 10px;
        line-height: 1.2;
        font-family: Arial, sans-serif;
    }
    #totalAmount {
        color: #2c7a7b;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .course-count {
        font-size: 1.2rem;
        color: #4a5568;
        margin-bottom: 12px;
        font-family: Arial, sans-serif;
    }
    .discount-info {
        font-size: 1rem;
        color: #4a5568;
        line-height: 1.6;
        background: rgba(255, 255, 255, 0.7);
        padding: 12px;
        border-radius: 8px;
        margin-top: 12px;
        font-family: Arial, sans-serif;
    }

    /* ===== FOOTER NOTE ===== */
    .footer-note {
        text-align: center;
        margin-top: 30px;
        color: #a0aec0;
        font-size: 0.95rem;
        padding-top: 12px;
        border-top: 1px solid #e2e8f0;
        font-family: Arial, sans-serif;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 768px) {
        body {
            padding: 8px;
        }
        .course-calculator-page {
            max-width: 100% !important;
            padding: 12px !important;
            margin: 8px auto !important;
            border-radius: 14px !important;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.06) !important;
        }
        .xmas-decor {
            top: -14px;
            right: -14px;
            font-size: 1.2rem;
        }
        .course-calculator-page::after {
            top: -14px;
            left: -14px;
            font-size: 1.2rem;
        }
        .course-calculator-page::before {
            top: -10px;
            height: 14px;
        }
        .calculator-header h1 {
            font-size: 1.5rem !important;
            line-height: 1.2 !important;
            margin-bottom: 8px !important;
        }
        .calculator-header p {
            font-size: 0.95rem !important;
            line-height: 1.3 !important;
        }
        .calculator-header {
            margin-bottom: 20px !important;
        }
        .custom-select {
            margin: 16px auto !important;
        }
        .select-header {
            padding: 10px 14px !important;
            font-size: 0.95rem !important;
        }
        .courses-list {
            max-height: 300px !important;
        }
        .select-options {
            max-height: 380px !important;
        }
        .course-name {
            font-size: 1rem !important;
        }
        .confirm-button-container {
            flex-direction: column !important;
            gap: 8px !important;
            align-items: stretch !important;
        }
        .selection-info {
            text-align: center !important;
            order: 2 !important;
        }
        .confirm-selection-btn {
            order: 1 !important;
            width: 100% !important;
            min-width: auto !important;
            padding: 10px !important;
        }
        .promo-input-wrapper {
            flex-direction: column !important;
            gap: 8px !important;
        }
        .promo-input, .apply-promo-btn {
            width: 100% !important;
            font-size: 0.95rem !important;
            padding: 10px 14px !important;
        }
        .total-amount {
            font-size: 1.5rem !important;
        }
        .course-count {
            font-size: 1rem !important;
        }
        .selected-courses-wrapper {
            max-height: 240px !important;
            padding: 8px !important;
        }
        .selected-course-item {
            padding: 6px 8px !important;
            flex-direction: column !important;
            align-items: flex-start !important;
            gap: 6px !important;
            min-height: auto !important;
        }
        .course-name-text {
            max-width: 100% !important;
            font-size: 0.85rem !important;
            margin-bottom: 4px;
        }
        .remove-course-btn {
            align-self: flex-end !important;
            padding: 4px 8px !important;
            font-size: 0.75rem !important;
            margin-top: 0;
        }
        .option-item {
            padding: 10px 14px !important;
        }
        .results-container {
            padding: 16px 12px !important;
            margin-top: 20px !important;
        }
        .discount-info {
            padding: 10px !important;
            font-size: 0.95rem !important;
        }
        .footer-note {
            margin-top: 24px !important;
            padding-top: 10px !important;
        }
        .course-not-available::after {
            position: static !important;
            transform: none !important;
            display: inline-block !important;
            margin-left: 8px !important;
            margin-top: 4px !important;
            top: auto !important;
            right: auto !important;
        }
        .course-not-available {
            flex-direction: column !important;
            align-items: flex-start !important;
        }
        .course-not-available .course-info {
            width: 100% !important;
        }
    }
    @media (max-width: 480px) {
        body {
            padding: 6px !important;
        }
        .course-calculator-page {
            padding: 10px !important;
            margin: 6px auto !important;
            border-radius: 12px !important;
        }
        .xmas-decor {
            top: -16px;
            right: -16px;
            font-size: 1.1rem;
        }
        .course-calculator-page::after {
            top: -16px;
            left: -16px;
            font-size: 1.1rem;
        }
        .course-calculator-page::before {
            top: -10px;
            height: 12px;
        }
        .calculator-header h1 {
            font-size: 1.3rem !important;
        }
        .calculator-header p {
            font-size: 0.9rem !important;
        }
        .option-item {
            padding: 8px 10px !important;
        }
        .courses-list {
            max-height: 250px !important;
        }
        .select-options {
            max-height: 320px !important;
        }
        .course-name {
            font-size: 0.95rem !important;
        }
        .confirm-selection-btn, .apply-promo-btn {
            padding: 9px 12px !important;
            font-size: 0.9rem !important;
        }
        .selected-courses-wrapper {
            max-height: 200px !important;
            padding: 6px !important;
        }
        .selected-course-item {
            padding: 5px 6px !important;
        }
        .course-name-text {
            font-size: 0.8rem !important;
        }
        .selected-courses-title {
            font-size: 1.1rem !important;
            margin-bottom: 12px !important;
        }
        .results-container {
            padding: 14px 10px !important;
        }
        .total-amount {
            font-size: 1.3rem !important;
        }
        .course-count {
            font-size: 0.95rem !important;
        }
        .discount-info {
            font-size: 0.9rem !important;
        }
        .course-not-available::after {
            font-size: 0.7rem !important;
            padding: 2px 5px !important;
        }
        .selected-courses-wrapper::-webkit-scrollbar {
            width: 4px !important;
        }
    }
    </style>
</head>
<body>
    <section id="course-calculator" class="course-calculator-page">
        <div class="xmas-decor">üéÅ</div>

        <div class="calculator-header">
            <h1>‘¥’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’´ ÷É’°’©’•’©’´ ’°÷Ä’™’•÷Ñ’´ ’∞’°’∑’æ’´’π</h1>
            <p>‘∏’∂’ø÷Ä’•÷Ñ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’®, ÷Ö’£’ø’æ’•÷Ñ ’¶’•’≤’π’•÷Ä’´÷Å ÷á ’∞’°’∑’æ’•÷Ñ ’±’•÷Ä ’≠’∂’°’µ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’® ÷É’°’©’•’©’´ ’£’∂’¥’°’∂ ’§’•’∫÷Ñ’∏÷Ç’¥</p>
        </div>

        <!-- Course Selection Dropdown -->
        <div class="custom-select">
            <div class="select-header" id="dropdownTrigger">
                <span id="selectPlaceholder">‘∏’∂’ø÷Ä’•÷Ñ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’®</span>
                <span style="color: #718096;">‚ñº</span>
            </div>
            <div class="select-options" id="coursesDropdown">
                <!-- Confirmation Button -->
                <div class="confirm-button-container">
                    <div id="selectionInfo" class="selection-info">‘∏’∂’ø÷Ä’æ’°’Æ ’ß 0 ’§’°’Ω’®’∂’©’°÷Å</div>
                    <button id="confirmButton" class="confirm-selection-btn" disabled>
                        ‘∏’∂’ø÷Ä’•÷Ñ ’°’º’∂’æ’°’¶’∂ 2-’®
                    </button>
                </div>
                <!-- Courses List -->
                <div class="courses-list">
                    <!-- Original Courses -->
                    <div class="course-group">
                        <div class="course-group-title">’Ä’´’¥’∂’°’Ø’°’∂ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä</div>
                        <label class="option-item" data-course-id="course1">
                            <input type="checkbox" value="course1">
                            <div class="course-info">
                                <div class="course-name">’á’ø’•’¥’°÷Ä’°’∂ 1, ’£’¨’∏÷Ç’≠ 1</div>
                                <div class="course-price">5,900 ’§÷Ä’°’¥</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="course2">
                            <input type="checkbox" value="course2">
                            <div class="course-info">
                                <div class="course-name">’á’ø’•’¥’°÷Ä’°’∂ 2, ’£’¨’∏÷Ç’≠ 1</div>
                                <div class="course-price">11,900 ’§÷Ä’°’¥</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="course3">
                            <input type="checkbox" value="course3">
                            <div class="course-info">
                                <div class="course-name">’á’ø’•’¥’°÷Ä’°’∂ 1, ’£’¨’∏÷Ç’≠ 2</div>
                                <div class="course-price">34,900 ’§÷Ä’°’¥</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="course4">
                            <input type="checkbox" value="course4">
                            <div class="course-info">
                                <div class="course-name">’á’ø’•’¥’°÷Ä’°’∂ 2, ’£’¨’∏÷Ç’≠ 2</div>
                                <div class="course-price">54,900 ’§÷Ä’°’¥</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="course5">
                            <input type="checkbox" value="course5">
                            <div class="course-info">
                                <div class="course-name">’á’ø’•’¥’°÷Ä’°’∂ 1 ÷á 2‚Ä§ ‘µ÷Ä’Ø÷Ä’°’π’°÷É’∏÷Ç’©’µ’°’∂ ’¢’°’™’´’∂’∂’•÷Ä</div>
                                <div class="course-price">69,900 ’§÷Ä’°’¥</div>
                            </div>
                        </label>
                    </div>
                    <!-- New Courses - ’á’ø’•’¥’°÷Ä’°’∂ 1, ‘≥’¨’∏÷Ç’≠ 2 -->
                    <div class="course-group">
                        <div class="course-group-title">’á’ø’•’¥’°÷Ä’°’∂ 1, ‘≥’¨’∏÷Ç’≠ 2 - ‘≤’°’™’´’∂’∂’•÷Ä</div>
                        <label class="option-item" data-course-id="s1g2b1">
                            <input type="checkbox" value="s1g2b1">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 1. ‘±÷Ä’ø’°’∞’°’µ’ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’±÷á’°÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ÷á ’°÷Ä’™’•÷Ñ’∂’•÷Ä’´ ’∞’°’∑’æ’∏÷Ç’¥</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b2">
                            <input type="checkbox" value="s1g2b2">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 2. ’Ä’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä ÷á ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b3">
                            <input type="checkbox" value="s1g2b3">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 3. ’è’•÷Ñ’Ω’ø’°’µ’´’∂ ’≠’∂’§’´÷Ä’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b4">
                            <input type="checkbox" value="s1g2b4">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 4. ’ä÷Ä’∏’£÷Ä’•’Ω’´’°’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b5">
                            <input type="checkbox" value="s1g2b5">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 5. ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b6">
                            <input type="checkbox" value="s1g2b6">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 6. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b7">
                            <input type="checkbox" value="s1g2b7">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 7. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g2b8">
                            <input type="checkbox" value="s1g2b8">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 8. ’Ñ’´’°÷Å’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä</div>
                            </div>
                        </label>
                    </div>
                    <!-- New Courses - ’á’ø’•’¥’°÷Ä’°’∂ 1, ‘≥’¨’∏÷Ç’≠ 3 -->
                    <div class="course-group">
                        <div class="course-group-title">’á’ø’•’¥’°÷Ä’°’∂ 1, ‘≥’¨’∏÷Ç’≠ 3 - ‘≤’°’™’´’∂’∂’•÷Ä</div>
                        <label class="option-item course-not-available" data-course-id="s1g3b1">
                            <input type="checkbox" value="s1g3b1" disabled>
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 1. ’Ä’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä ÷á ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item course-not-available" data-course-id="s1g3b2">
                            <input type="checkbox" value="s1g3b2" disabled>
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 2. ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g3b3">
                            <input type="checkbox" value="s1g3b3">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 3. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s1g3b4">
                            <input type="checkbox" value="s1g3b4">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 4. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                    </div>
                    <!-- New Courses - ’á’ø’•’¥’°÷Ä’°’∂ 2, ‘≥’¨’∏÷Ç’≠ 2 -->
                    <div class="course-group">
                        <div class="course-group-title">’á’ø’•’¥’°÷Ä’°’∂ 2, ‘≥’¨’∏÷Ç’≠ 2 - ‘≤’°’™’´’∂’∂’•÷Ä</div>
                        <label class="option-item" data-course-id="s2g2b1">
                            <input type="checkbox" value="s2g2b1">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 1. ‘±÷Ä’ø’°’∞’°’µ’ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’±÷á’°÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ÷á ’°÷Ä’™’•÷Ñ’∂’•÷Ä’´ ’∞’°’∑’æ’∏÷Ç’¥</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b2">
                            <input type="checkbox" value="s2g2b2">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 2. ’Ä’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä ÷á ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b3">
                            <input type="checkbox" value="s2g2b3">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 3. ’è’•÷Ñ’Ω’ø’°’µ’´’∂ ’≠’∂’§’´÷Ä’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b4">
                            <input type="checkbox" value="s2g2b4">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 4. ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b5">
                            <input type="checkbox" value="s2g2b5">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 5. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b6">
                            <input type="checkbox" value="s2g2b6">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 6. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b7">
                            <input type="checkbox" value="s2g2b7">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 7. ‘ø’∏’∏÷Ä’§’´’∂’°’ø’∂’•÷Ä’´ ’¥’•’©’∏’§, ’æ’•’Ø’ø’∏÷Ä’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g2b8">
                            <input type="checkbox" value="s2g2b8">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 8. ’Ñ’´’°÷Å’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä</div>
                            </div>
                        </label>
                    </div>
                    <!-- New Courses - ’á’ø’•’¥’°÷Ä’°’∂ 2, ‘≥’¨’∏÷Ç’≠ 3 -->
                    <div class="course-group">
                        <div class="course-group-title">’á’ø’•’¥’°÷Ä’°’∂ 2, ‘≥’¨’∏÷Ç’≠ 3 - ‘≤’°’™’´’∂’∂’•÷Ä</div>
                        <label class="option-item course-not-available" data-course-id="s2g3b1">
                            <input type="checkbox" value="s2g3b1" disabled>
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 1. ‘π’æ’°’¢’°’∂’°’Ø’°’∂ ’°’º’°’ª’°’§÷Ä’°’∂÷Ñ’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item course-not-available" data-course-id="s2g3b2">
                            <input type="checkbox" value="s2g3b2" disabled>
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 2. ’Ä’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä ÷á ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item course-not-available" data-course-id="s2g3b3">
                            <input type="checkbox" value="s2g3b3" disabled>
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 3. ’ä÷Ä’∏’£÷Ä’•’Ω’´’°’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item course-not-available" data-course-id="s2g3b4">
                            <input type="checkbox" value="s2g3b4" disabled>
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 4. ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g3b5">
                            <input type="checkbox" value="s2g3b5">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 5. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                        <label class="option-item" data-course-id="s2g3b6">
                            <input type="checkbox" value="s2g3b6">
                            <div class="course-info">
                                <div class="course-name">‘≤’°’™’´’∂ 6. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂</div>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Selected Courses Display -->
        <div id="selectedCoursesContainer">
            <h3 class="selected-courses-title">‘∏’∂’ø÷Ä’æ’°’Æ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’®</h3>
            <div id="selectedCoursesList"></div>
        </div>

        <!-- Promo Code Section -->
        <div class="promo-section">
            <h3 class="promo-title">’ä÷Ä’∏’¥’∏ ’Ø’∏’§ (’•’©’• ’∏÷Ç’∂’•÷Ñ)</h3>
            <div class="promo-input-wrapper">
                <input type="text" id="promoCode" class="promo-input" placeholder="’Ñ’∏÷Ç’ø÷Ñ’°’£÷Ä’•÷Ñ ’∫÷Ä’∏’¥’∏ ’Ø’∏’§’®">
                <button id="applyPromoButton" class="apply-promo-btn" disabled>‘ø’´÷Ä’°’º’•’¨</button>
            </div>
            <div id="promoMessage"></div>
        </div>

        <!-- Results -->
        <div id="result" class="results-container">
            <div class="total-amount">
                ‘∏’∂’§’∞’°’∂’∏÷Ç÷Ä ’°÷Ä’™’•÷Ñ’®’ù <span id="totalAmount">0</span> ’§÷Ä’°’¥
            </div>
            <div id="courseCountText" class="course-count"></div>
            <div id="discountInfo" class="discount-info"></div>
        </div>

        <div class="footer-note">
            <p>’Ä’°’∑’æ’´’π’® ’Ω’ø’•’≤’Æ’æ’•’¨ ’ß ’∞’°’ø’∏÷Ç’Ø dimordi-uxecuyc.am ’Ø’°’µ÷Ñ’´ ’∞’°’¥’°÷Ä</p>
        </div>
    </section>

    <script>
        // ==================== COURSE DATA ====================
        const courses = {
            // Original courses with their actual prices
            course1: { name: '’á’ø’•’¥’°÷Ä’°’∂ 1, ’£’¨’∏÷Ç’≠ 1', price: 5900, type: 'full' },
            course2: { name: '’á’ø’•’¥’°÷Ä’°’∂ 2, ’£’¨’∏÷Ç’≠ 1', price: 11900, type: 'full' },
            course3: { name: '’á’ø’•’¥’°÷Ä’°’∂ 1, ’£’¨’∏÷Ç’≠ 2', price: 34900, type: 'full' },
            course4: { name: '’á’ø’•’¥’°÷Ä’°’∂ 2, ’£’¨’∏÷Ç’≠ 2', price: 54900, type: 'full' },
            course5: { name: '’á’ø’•’¥’°÷Ä’°’∂ 1 ÷á 2‚Ä§ ‘µ÷Ä’Ø÷Ä’°’π’°÷É’∏÷Ç’©’µ’°’∂ ’¢’°’™’´’∂’∂’•÷Ä', price: 69900, type: 'full' },
            // New courses - ’á’ø’•’¥’°÷Ä’°’∂ 1, ‘≥’¨’∏÷Ç’≠ 2 sections
            s1g2b1: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 1. ‘±÷Ä’ø’°’∞’°’µ’ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’±÷á’°÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ÷á ’°÷Ä’™’•÷Ñ’∂’•÷Ä’´ ’∞’°’∑’æ’∏÷Ç’¥', basePrice: 4000, chapter: 's1g2' },
            s1g2b2: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 2. ’Ä’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä ÷á ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä', basePrice: 5000, chapter: 's1g2' },
            s1g2b3: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 3. ’è’•÷Ñ’Ω’ø’°’µ’´’∂ ’≠’∂’§’´÷Ä’∂’•÷Ä', basePrice: 4000, chapter: 's1g2' },
            s1g2b4: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 4. ’ä÷Ä’∏’£÷Ä’•’Ω’´’°’∂’•÷Ä', basePrice: 4000, chapter: 's1g2' },
            s1g2b5: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 5. ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä', basePrice: 5000, chapter: 's1g2' },
            s1g2b6: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 6. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 5000, chapter: 's1g2' },
            s1g2b7: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 7. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 5000, chapter: 's1g2' },
            s1g2b8: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 8. ’Ñ’´’°÷Å’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä', basePrice: 5000, chapter: 's1g2' },
            // New courses - ’á’ø’•’¥’°÷Ä’°’∂ 1, ‘≥’¨’∏÷Ç’≠ 3 sections
            s1g3b3: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 3, ‘≤‘±‘∫‘ª’Ü 3. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 9000, chapter: 's1g3' },
            s1g3b4: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 1, ‘≥‘º’à’í‘Ω 3, ‘≤‘±‘∫‘ª’Ü 4. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 9000, chapter: 's1g3' },
            // New courses - ’á’ø’•’¥’°÷Ä’°’∂ 2, ‘≥’¨’∏÷Ç’≠ 2 sections
            s2g2b1: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 1. ‘±÷Ä’ø’°’∞’°’µ’ø’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä’´ ’±÷á’°÷É’∏’≠’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ÷á ’°÷Ä’™’•÷Ñ’∂’•÷Ä’´ ’∞’°’∑’æ’∏÷Ç’¥', basePrice: 5000, chapter: 's2g2' },
            s2g2b2: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 2. ’Ä’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä ÷á ’°’∂’∞’°’æ’°’Ω’°÷Ä’∏÷Ç’¥’∂’•÷Ä', basePrice: 9000, chapter: 's2g2' },
            s2g2b3: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 3. ’è’•÷Ñ’Ω’ø’°’µ’´’∂ ’≠’∂’§’´÷Ä’∂’•÷Ä', basePrice: 4000, chapter: 's2g2' },
            s2g2b4: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 4. ’ñ’∏÷Ç’∂’Ø÷Å’´’°’∂’•÷Ä', basePrice: 8000, chapter: 's2g2' },
            s2g2b5: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 5. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 9000, chapter: 's2g2' },
            s2g2b6: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 6. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 9000, chapter: 's2g2' },
            s2g2b7: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 7. ‘ø’∏’∏÷Ä’§’´’∂’°’ø’∂’•÷Ä’´ ’¥’•’©’∏’§, ’æ’•’Ø’ø’∏÷Ä’∂’•÷Ä', basePrice: 4000, chapter: 's2g2' },
            s2g2b8: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 2, ‘≤‘±‘∫‘ª’Ü 8. ’Ñ’´’°÷Å’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä', basePrice: 9000, chapter: 's2g2' },
            // New courses - ’á’ø’•’¥’°÷Ä’°’∂ 2, ‘≥’¨’∏÷Ç’≠ 3 sections
            s2g3b5: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 3, ‘≤‘±‘∫‘ª’Ü 5. ’Ä’°÷Ä’©’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 11000, chapter: 's2g3' },
            s2g3b6: { name: '’á’è‘µ’Ñ‘±’ê‘±’Ü 2, ‘≥‘º’à’í‘Ω 3, ‘≤‘±‘∫‘ª’Ü 6. ’è’°÷Ä’°’Æ’°’π’°÷É’∏÷Ç’©’µ’∏÷Ç’∂', basePrice: 11000, chapter: 's2g3' }
        };

        // Chapter definitions with full chapter prices and section counts
        const chapters = {
            's1g2': {
                fullChapterId: 'course3',
                name: '’á’ø’•’¥’°÷Ä’°’∂ 1, ’£’¨’∏÷Ç’≠ 2',
                fullPrice: 34900,
                sectionCount: 8,
                sectionIds: ['s1g2b1', 's1g2b2', 's1g2b3', 's1g2b4', 's1g2b5', 's1g2b6', 's1g2b7', 's1g2b8']
            },
            's1g3': {
                fullChapterId: null, // No full chapter course available
                name: '’á’ø’•’¥’°÷Ä’°’∂ 1, ’£’¨’∏÷Ç’≠ 3',
                fullPrice: null,
                sectionCount: 2,
                sectionIds: ['s1g3b3', 's1g3b4']
            },
            's2g2': {
                fullChapterId: 'course4',
                name: '’á’ø’•’¥’°÷Ä’°’∂ 2, ’£’¨’∏÷Ç’≠ 2',
                fullPrice: 54900,
                sectionCount: 8,
                sectionIds: ['s2g2b1', 's2g2b2', 's2g2b3', 's2g2b4', 's2g2b5', 's2g2b6', 's2g2b7', 's2g2b8']
            },
            's2g3': {
                fullChapterId: null, // No full chapter course available
                name: '’á’ø’•’¥’°÷Ä’°’∂ 2, ’£’¨’∏÷Ç’≠ 3',
                fullPrice: null,
                sectionCount: 2,
                sectionIds: ['s2g3b5', 's2g3b6']
            }
        };

        // ==================== APPLICATION STATE ====================
        let selectedCourses = [];
        let currentPromoCode = '';
        const VALID_PROMO_CODES = { 
            'PROMO10': 0.10,    // 10% discount - MUST BE UPPERCASE
            'CHRISTMAS30': 0.30 // 30% Christmas discount - MUST BE UPPERCASE
        };
        const MIN_COURSES_REQUIRED = 2;

        // ==================== DOM ELEMENTS ====================
        const dropdownTrigger = document.getElementById('dropdownTrigger');
        const coursesDropdown = document.getElementById('coursesDropdown');
        const selectPlaceholder = document.getElementById('selectPlaceholder');
        const confirmButton = document.getElementById('confirmButton');
        const selectionInfo = document.getElementById('selectionInfo');
        const selectedCoursesContainer = document.getElementById('selectedCoursesContainer');
        const selectedCoursesList = document.getElementById('selectedCoursesList');
        const promoCodeInput = document.getElementById('promoCode');
        const applyPromoButton = document.getElementById('applyPromoButton');
        const promoMessage = document.getElementById('promoMessage');
        const totalAmountDisplay = document.getElementById('totalAmount');
        const courseCountText = document.getElementById('courseCountText');
        const discountInfo = document.getElementById('discountInfo');

        // ==================== DROPDOWN FUNCTIONS ====================
        dropdownTrigger.addEventListener('click', function(event) {
            event.stopPropagation();
            const isVisible = coursesDropdown.style.display === 'block';
            coursesDropdown.style.display = isVisible ? 'none' : 'block';
            if (!isVisible) {
                dropdownTrigger.style.borderColor = '#4299e1';
                dropdownTrigger.style.boxShadow = '0 0 0 3px rgba(66, 153, 225, 0.2)';
            } else {
                dropdownTrigger.style.borderColor = '#e2e8f0';
                dropdownTrigger.style.boxShadow = 'none';
            }
        });

        document.addEventListener('click', function(event) {
            if (!event.target.closest('.custom-select')) {
                coursesDropdown.style.display = 'none';
                dropdownTrigger.style.borderColor = '#e2e8f0';
                dropdownTrigger.style.boxShadow = 'none';
            }
        });

        // ==================== CHECKBOX & BUTTON UPDATES ====================
        function updateConfirmButton() {
            const checkboxes = document.querySelectorAll('.select-options input[type="checkbox"]:not(:disabled)');
            let selectedCount = 0;
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) selectedCount++;
            });
            selectionInfo.textContent = `‘∏’∂’ø÷Ä’æ’°’Æ ’ß ${selectedCount} ’§’°’Ω’®’∂’©’°÷Å`;
            if (selectedCount >= MIN_COURSES_REQUIRED) {
                confirmButton.textContent = '’Ä’°’Ω’ø’°’ø’•’¨ ’®’∂’ø÷Ä’∏÷Ç’©’µ’∏÷Ç’∂’®';
                confirmButton.classList.remove('min-courses');
                confirmButton.disabled = false;
                confirmButton.style.background = '#4299e1';
            } else if (selectedCount > 0) {
                confirmButton.textContent = `‘∏’∂’ø÷Ä’•÷Ñ ’°’º’∂’æ’°’¶’∂ ${MIN_COURSES_REQUIRED}-’®`;
                confirmButton.classList.add('min-courses');
                confirmButton.disabled = true;
                confirmButton.style.background = '#fc8181';
            } else {
                confirmButton.textContent = `‘∏’∂’ø÷Ä’•÷Ñ ’°’º’∂’æ’°’¶’∂ ${MIN_COURSES_REQUIRED}-’®`;
                confirmButton.classList.add('min-courses');
                confirmButton.disabled = true;
                confirmButton.style.background = '#cbd5e0';
            }
        }

        function updatePromoButton() {
            const promoCode = promoCodeInput.value.trim();
            if (promoCode.length > 0) {
                applyPromoButton.style.background = '#4299e1';
                applyPromoButton.disabled = false;
            } else {
                applyPromoButton.style.background = '#cbd5e0';
                applyPromoButton.disabled = true;
            }
        }

        // ==================== EVENT LISTENERS ====================
        document.querySelectorAll('.select-options input[type="checkbox"]:not(:disabled)').forEach(checkbox => {
            checkbox.addEventListener('change', updateConfirmButton);
        });

        confirmButton.addEventListener('click', function() {
            const checkboxes = document.querySelectorAll('.select-options input[type="checkbox"]:not(:disabled)');
            let selectedCount = 0;
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) selectedCount++;
            });
            if (selectedCount < MIN_COURSES_REQUIRED) {
                this.style.background = '#fc8181';
                this.textContent = `‘∏’∂’ø÷Ä’•÷Ñ ’°’º’∂’æ’°’¶’∂ ${MIN_COURSES_REQUIRED} ’§’°’Ω’®’∂’©’°÷Å`;
                setTimeout(() => {
                    updateConfirmButton();
                }, 1500);
                return;
            }
            this.style.background = '#38a169';
            this.textContent = '’Ä’°’Ω’ø’°’ø’æ’°’Æ ‚úì';
            setTimeout(() => {
                updateConfirmButton();
            }, 1000);
            processCourseSelection();
        });

        // Force uppercase input for promo codes
        promoCodeInput.addEventListener('input', function() {
            // Convert to uppercase as user types
            this.value = this.value.toUpperCase();
            updatePromoButton();
            if (this.value.trim() !== currentPromoCode) {
                this.style.borderColor = '#e2e8f0';
                promoMessage.textContent = '';
            }
        });

        promoCodeInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && !applyPromoButton.disabled) {
                applyPromoCode();
            }
        });

        applyPromoButton.addEventListener('click', applyPromoCode);

        // ==================== CORE LOGIC FUNCTIONS ====================
        function processCourseSelection() {
            const checkboxes = document.querySelectorAll('.select-options input[type="checkbox"]:not(:disabled)');
            selectedCourses = [];
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const courseId = checkbox.value;
                    if (courses[courseId]) {
                        selectedCourses.push({
                            id: courseId,
                            name: courses[courseId].name
                        });
                    }
                }
            });
            if (selectedCourses.length >= MIN_COURSES_REQUIRED) {
                selectPlaceholder.textContent = `‘∏’∂’ø÷Ä’æ’°’Æ ’ß ${selectedCourses.length} ’§’°’Ω’®’∂’©’°÷Å`;
                selectPlaceholder.style.color = '#2d3748';
                selectPlaceholder.style.fontWeight = '500';
            } else {
                selectPlaceholder.textContent = '‘∏’∂’ø÷Ä’•÷Ñ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’®';
                selectPlaceholder.style.color = '#718096';
                selectPlaceholder.style.fontWeight = 'normal';
            }
            coursesDropdown.style.display = 'none';
            dropdownTrigger.style.borderColor = '#e2e8f0';
            dropdownTrigger.style.boxShadow = 'none';
            updateSelectedCoursesList();
            calculateTotal();
        }

        function updateSelectedCoursesList() {
            if (selectedCourses.length > 0) {
                selectedCoursesList.innerHTML = `
                    <div class="selected-courses-wrapper">
                        ${selectedCourses.map(course => `
                            <div class="selected-course-item">
                                <div class="course-name-text">
                                    ${course.name}
                                </div>
                                <button class="remove-course-btn" data-course-id="${course.id}">
                                    ’ã’∂’ª’•’¨
                                </button>
                            </div>
                        `).join('')}
                    </div>
                `;
                selectedCoursesContainer.style.display = 'block';
                document.querySelectorAll('.remove-course-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const courseId = this.getAttribute('data-course-id');
                        removeCourse(courseId);
                    });
                });
            } else {
                selectedCoursesContainer.style.display = 'none';
            }
        }

        function removeCourse(courseId) {
            selectedCourses = selectedCourses.filter(course => course.id !== courseId);
            const checkbox = document.querySelector(`input[value="${courseId}"]`);
            if (checkbox) {
                checkbox.checked = false;
            }
            updateConfirmButton();
            updateSelectedCoursesList();
            if (selectedCourses.length >= MIN_COURSES_REQUIRED) {
                selectPlaceholder.textContent = `‘∏’∂’ø÷Ä’æ’°’Æ ’ß ${selectedCourses.length} ’§’°’Ω’®’∂’©’°÷Å`;
            } else {
                selectPlaceholder.textContent = '‘∏’∂’ø÷Ä’•÷Ñ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä’®';
                selectPlaceholder.style.color = '#718096';
                selectPlaceholder.style.fontWeight = 'normal';
            }
            calculateTotal();
        }

        function applyPromoCode() {
            const promoCode = promoCodeInput.value.trim(); // Already uppercase from input event
            
            // STRICT CASE-SENSITIVE VALIDATION - ONLY UPPERCASE ACCEPTED
            if (promoCode === 'PROMO10') {
                currentPromoCode = promoCode;
                promoCodeInput.style.borderColor = '#38a169';
                promoCodeInput.style.background = '';
                promoMessage.style.color = '#38a169';
                promoMessage.innerHTML = '<strong>’ä÷Ä’∏’¥’∏ ’Ø’∏’§’® ’∞’°’Ω’ø’°’ø’æ’°’Æ ’ß:</strong> ‘¥’∏÷Ç÷Ñ ’Ø’Ω’ø’°’∂’°÷Ñ ’¨÷Ä’°÷Å’∏÷Ç÷Å’´’π 10% ’¶’•’≤’π:';
                applyPromoButton.style.background = '#38a169';
                applyPromoButton.textContent = '‘ø’´÷Ä’°’º’æ’°’Æ ’ß';
                applyPromoButton.disabled = true;
                setupPromoResetListener();
            } else if (promoCode === 'CHRISTMAS30') {
                currentPromoCode = promoCode;
                promoCodeInput.style.borderColor = '#C41E3A';
                promoCodeInput.style.background = '#FFF9F9';
                promoMessage.style.color = '#C41E3A';
                promoMessage.innerHTML = '<strong>üéÑ ’ç’∏÷Ç÷Ä’¢ ‘æ’∂’∂’§’µ’°’∂ ’∫÷Ä’∏’¥’∏ ’Ø’∏’§’® ’∞’°’Ω’ø’°’ø’æ’°’Æ ’ß÷â </strong> ‘¥’∏÷Ç÷Ñ ’Ø’Ω’ø’°’∂’°÷Ñ ’¨÷Ä’°÷Å’∏÷Ç÷Å’´’π 30% ’¶’•’≤’π: üéÅ';
                applyPromoButton.style.background = 'linear-gradient(135deg, #C41E3A 0%, #A5152E 100%)';
                applyPromoButton.textContent = '‘ø’´÷Ä’°’º’æ’°’Æ ’ß';
                applyPromoButton.disabled = true;
                setupPromoResetListener();
            } else if (promoCode === '') {
                currentPromoCode = '';
                promoCodeInput.style.borderColor = '#e2e8f0';
                promoCodeInput.style.background = '';
                promoMessage.textContent = '';
                applyPromoButton.style.background = '#4299e1';
                applyPromoButton.textContent = '‘ø’´÷Ä’°’º’•’¨';
                applyPromoButton.disabled = false;
            } else {
                // Show specific error message for case sensitivity
                currentPromoCode = '';
                promoCodeInput.style.borderColor = '#fc8181';
                promoCodeInput.style.background = '';
                promoMessage.style.color = '#c53030';
                
                // Check if it's a case-sensitive issue
                const lowerCasePromo = promoCode.toLowerCase();
                if (lowerCasePromo === 'promo10' || lowerCasePromo === 'christmas30') {
                    promoMessage.innerHTML = '<strong>’ç’≠’°’¨:</strong> ’ä÷Ä’∏’¥’∏ ’Ø’∏’§’® ’∫’•’ø÷Ñ ’ß ’¥’∏÷Ç’ø÷Ñ’°’£÷Ä’æ’´ ’Ñ‘µ‘æ‘±’è‘µ’å’Ü‘µ’ê’à’é: ’ï÷Ä’´’∂’°’Ø’ù <strong>PROMO10</strong>';
                } else {
                    promoMessage.textContent = '’ä÷Ä’∏’¥’∏ ’Ø’∏’§’® ’°’∂’æ’°’æ’•÷Ä ’ß:';
                }
                
                setTimeout(() => {
                    if (promoCodeInput.value.trim() !== 'PROMO10' && 
                        promoCodeInput.value.trim() !== 'CHRISTMAS30') {
                        applyPromoButton.style.background = '#4299e1';
                        applyPromoButton.textContent = '‘ø’´÷Ä’°’º’•’¨ ’Ø’∏’§’®';
                        applyPromoButton.disabled = false;
                    }
                }, 1500);
            }
            calculateTotal();
        }

        function setupPromoResetListener() {
            promoCodeInput.removeEventListener('input', handlePromoReset);
            promoCodeInput.addEventListener('input', handlePromoReset);
        }

        function handlePromoReset() {
            if (this.value.trim() !== currentPromoCode) {
                currentPromoCode = '';
                applyPromoButton.style.background = '#4299e1';
                applyPromoButton.textContent = '‘ø’´÷Ä’°’º’•’¨ ’Ø’∏’§’®';
                applyPromoButton.disabled = false;
                promoCodeInput.style.borderColor = '#e2e8f0';
                promoCodeInput.style.background = '';
                promoMessage.textContent = '';
                calculateTotal();
            }
        }

        // ==================== CHAPTER COMPLETE CHECK ====================
        function checkForCompleteChapters(selectedCourseIds) {
            const completeChapters = [];
            
            for (const [chapterId, chapter] of Object.entries(chapters)) {
                // Skip chapters without full price (like s1g3, s2g3)
                if (!chapter.fullPrice) continue;
                
                // Check if all sections of this chapter are selected
                const allSectionsSelected = chapter.sectionIds.every(sectionId => 
                    selectedCourseIds.includes(sectionId)
                );
                
                if (allSectionsSelected) {
                    completeChapters.push(chapterId);
                }
            }
            
            return completeChapters;
        }

        // ==================== CALCULATE TOTAL ====================
        function calculateTotal() {
            const courseCount = selectedCourses.length;
            if (courseCount >= MIN_COURSES_REQUIRED) {
                const selectedCourseIds = selectedCourses.map(course => course.id);
                const completeChapters = checkForCompleteChapters(selectedCourseIds);
                const completeChaptersCount = completeChapters.length;
                
                let total = 0;
                let quantityDiscount = 0;
                let quantityDiscountText = '';
                let discountPercentage = 0;
                let isSingleCompleteChapter = false;
                
                // Check if we have complete chapters
                if (completeChaptersCount > 0) {
                    // For complete chapters, use the full chapter price
                    completeChapters.forEach(chapterId => {
                        const chapter = chapters[chapterId];
                        total += chapter.fullPrice;
                        
                        // Remove individual section prices
                        chapter.sectionIds.forEach(sectionId => {
                            const index = selectedCourseIds.indexOf(sectionId);
                            if (index !== -1) {
                                selectedCourseIds.splice(index, 1);
                            }
                        });
                    });
                    
                    // Add remaining courses (non-section courses or incomplete chapters)
                    selectedCourseIds.forEach(courseId => {
                        const course = courses[courseId];
                        if (course.type === 'full') {
                            total += course.price || 0;
                        } else {
                            total += course.basePrice || 0;
                        }
                    });
                    
                    // Check if it's a SINGLE complete chapter case
                    if (completeChaptersCount === 1) {
                        isSingleCompleteChapter = true;
                        // For SINGLE complete chapter cases, NO quantity discounts apply
                        quantityDiscount = 0;
                        quantityDiscountText = '';
                    } else {
                        // For MULTIPLE complete chapters, apply quantity discounts as usual
                        if (courseCount >= 2 && courseCount <= 3) {
                            discountPercentage = 0.05;
                            quantityDiscountText = '5% ’¶’•’≤’π 2-3 ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                        } else if (courseCount >= 4 && courseCount <= 6) {
                            discountPercentage = 0.07;
                            quantityDiscountText = '7% ’¶’•’≤’π 4-6 ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                        } else if (courseCount >= 7 && courseCount <= 9) {
                            discountPercentage = 0.10;
                            quantityDiscountText = '10% ’¶’•’≤’π 7-8 ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                        } else if (courseCount > 9) {
                            discountPercentage = 0.12;
                            quantityDiscountText = '12% ’¶’•’≤’π 9+ ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                        }
                        quantityDiscount = total * discountPercentage;
                    }
                } else {
                    // Regular calculation without complete chapters
                    selectedCourses.forEach(course => {
                        const courseId = course.id;
                        if (courseId.startsWith('course')) {
                            total += courses[courseId].price || 0;
                        } else {
                            total += courses[courseId].basePrice || 0;
                        }
                    });

                    // Apply quantity discounts as usual
                    if (courseCount >= 2 && courseCount <= 3) {
                        discountPercentage = 0.05;
                        quantityDiscountText = '5% ’¶’•’≤’π 2-3 ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                    } else if (courseCount >= 4 && courseCount <= 6) {
                        discountPercentage = 0.07;
                        quantityDiscountText = '7% ’¶’•’≤’π 4-6 ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                    } else if (courseCount >= 7 && courseCount <= 9) {
                        discountPercentage = 0.10;
                        quantityDiscountText = '10% ’¶’•’≤’π 7-8 ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                    } else if (courseCount > 9) {
                        discountPercentage = 0.12;
                        quantityDiscountText = '12% ’¶’•’≤’π 9+ ’§’°’Ω’®’∂’©’°÷Å’´ ’∞’°’¥’°÷Ä';
                    }
                    quantityDiscount = total * discountPercentage;
                }
                
                // Apply promo discount based on conditions
                let promoDiscount = 0;
                let promoApplied = false;
                
                if (!isSingleCompleteChapter && currentPromoCode && VALID_PROMO_CODES[currentPromoCode]) {
                    // Apply promo codes for:
                    // 1. Multiple complete chapters
                    // 2. No complete chapters
                    // 3. Regular selections
                    // But NOT for single complete chapter
                    promoDiscount = (total - quantityDiscount) * VALID_PROMO_CODES[currentPromoCode];
                    promoApplied = true;
                }

                const finalTotal = total - quantityDiscount - promoDiscount;
                totalAmountDisplay.textContent = finalTotal.toLocaleString('hy-AM');

                const basePriceDisplay = total;
                let discountHTML = '<div style="text-align: left; max-width: 500px; margin: 0 auto;">';
                
                // Show attention messages for complete chapters
                if (completeChaptersCount === 1) {
                    // Single complete chapter
                    discountHTML += `<div style="color: #3182ce; margin-bottom: 12px; padding: 8px; background: #ebf8ff; border-radius: 6px; border-left: 4px solid #4299e1;">`;
                    discountHTML += `<strong>üí° ’à÷Ç’∑’°’§÷Ä’∏÷Ç’©’µ’∏÷Ç’ú’∂:</strong> ‘¥’∏÷Ç÷Ñ ’®’∂’ø÷Ä’•’¨ ’•÷Ñ ’°’¥’¢’∏’≤’ª’°’Ø’°’∂ ’£’¨’∏÷Ç’≠:`;
                    discountHTML += `</div>`;
                } else if (completeChaptersCount > 1) {
                    // Multiple complete chapters
                    discountHTML += `<div style="color: #3182ce; margin-bottom: 12px; padding: 8px; background: #ebf8ff; border-radius: 6px; border-left: 4px solid #4299e1;">`;
                    discountHTML += `<strong>üí° ’à÷Ç’∑’°’§÷Ä’∏÷Ç’©’µ’∏÷Ç’ú’∂:</strong> ‘¥’∏÷Ç÷Ñ ’®’∂’ø÷Ä’•’¨ ’•÷Ñ ${completeChaptersCount} ’°’¥’¢’∏’≤’ª’°’Ø’°’∂ ’£’¨’∏÷Ç’≠:`;
                    discountHTML += `</div>`;
                }
                
                discountHTML += `<div style="margin-bottom: 8px;">’ç’Ø’¶’¢’∂’°’Ø’°’∂ ’£’´’∂’®’ù <span style="font-weight: 600;">${basePriceDisplay.toLocaleString('hy-AM')} ’§÷Ä’°’¥</span></div>`;
                
                if (quantityDiscount > 0) {
                    discountHTML += `<div style="color: #2c7a7b; margin-bottom: 8px;">${quantityDiscountText}: <span style="font-weight: 600;">-${quantityDiscount.toLocaleString('hy-AM')} ’§÷Ä’°’¥</span></div>`;
                }
                
                if (promoApplied && promoDiscount > 0) {
                    const promoColor = currentPromoCode === 'CHRISTMAS30' ? '#C41E3A' : '#2c7a7b';
                    const promoLabel = currentPromoCode === 'CHRISTMAS30' ? '30% ’ç’∏÷Ç÷Ä’¢ ‘æ’∂’∂’§’µ’°’∂ ’¶’•’≤’π' : '10% ’¨÷Ä’°÷Å’∏÷Ç÷Å’´’π ’¶’•’≤’π ’∫÷Ä’∏’¥’∏ ’Ø’∏’§’∏’æ';
                    discountHTML += `<div style="color: ${promoColor}; margin-bottom: 8px; font-weight: 600;">${promoLabel}: <span style="font-weight: 700;">-${promoDiscount.toLocaleString('hy-AM')} ’§÷Ä’°’¥</span></div>`;
                } else if (currentPromoCode && isSingleCompleteChapter) {
                    discountHTML += `<div style="color: #718096; margin-bottom: 8px; font-style: italic;">’ä÷Ä’∏’¥’∏ ’Ø’∏’§’® ’π’´ ’Ø’´÷Ä’°’º’æ’∏÷Ç’¥ ’¥’•’Ø ’°’¥’¢’∏’≤’ª’°’Ø’°’∂ ’£’¨’≠’´ ’£’∂’¥’°’∂ ’§’•’∫÷Ñ’∏÷Ç’¥</div>`;
                }
                
                const totalDiscount = quantityDiscount + promoDiscount;
                if (totalDiscount > 0) {
                    discountHTML += `<div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #c6f6d5; color: #234e52;">`;
                    discountHTML += `‘∏’∂’§’∞’°’∂’∏÷Ç÷Ä ’≠’∂’°’µ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’®’ù <span style="font-weight: 600;">${totalDiscount.toLocaleString('hy-AM')} ’§÷Ä’°’¥</span>`;
                    discountHTML += `</div>`;
                } else if (!isSingleCompleteChapter) {
                    discountHTML += `<div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid #c6f6d5; color: #718096; font-style: italic;">`;
                    discountHTML += `‘Ω’∂’°’µ’∏’≤’∏÷Ç’©’µ’∏÷Ç’∂’∂’•÷Ä ’Ω’ø’°’∂’°’¨’∏÷Ç ’∞’°’¥’°÷Ä ’®’∂’ø÷Ä’•÷Ñ ’°’æ’•’¨’´ ’∑’°’ø ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä ’Ø’°’¥ ’Ø’´÷Ä’°’º’•÷Ñ ’∫÷Ä’∏’¥’∏ ’Ø’∏’§`;
                    discountHTML += `</div>`;
                }
                discountHTML += `</div>`;
                discountInfo.innerHTML = discountHTML;
            } else {
                totalAmountDisplay.textContent = '0';
                if (courseCount > 0) {
                    discountInfo.innerHTML = '‘∏’∂’ø÷Ä’•÷Ñ ’°’º’∂’æ’°’¶’∂ 2 ’§’°’Ω’®’∂’©’°÷Å ’£’´’∂’® ’∞’°’∑’æ’•’¨’∏÷Ç ’∞’°’¥’°÷Ä÷â';
                } else {
                    discountInfo.innerHTML = '‘∏’∂’ø÷Ä’•÷Ñ ’§’°’Ω’®’∂’©’°÷Å’∂’•÷Ä ’¶’•’≤’π’•÷Ä’´ ’Ø’´÷Ä’°’º’¥’°’∂ ’∞’°’¥’°÷Ä÷â';
                }
            }
            courseCountText.textContent = courseCount > 0 
                ? `‘∏’∂’ø÷Ä’æ’°’Æ ’ß ${courseCount} ’§’°’Ω’®’∂’©’°÷Å` 
                : '‘¥’•’º÷á’Ω ’§’°’Ω’®’∂’©’°÷Å ’π’´ ’®’∂’ø÷Ä’æ’•’¨';
        }

        // ==================== INITIALIZATION ====================
        document.addEventListener('DOMContentLoaded', function() {
            updateConfirmButton();
            updatePromoButton();
            calculateTotal();
            console.log('Dimordi Course Calculator loaded successfully!');
            console.log('Available promo codes: PROMO10 (10% discount), CHRISTMAS30 (30% Christmas discount)');
            console.log('Promo codes are CASE-SENSITIVE and must be entered in UPPERCASE');
            console.log('Complete chapter detection is active for chapters with full prices');
            console.log('Promo codes DO NOT apply to SINGLE complete chapter purchases');
            console.log('Promo codes DO apply to MULTIPLE complete chapter purchases');
        });
    </script>
</body>
</html>
